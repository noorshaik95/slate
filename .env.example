# ============================================================================
# User Auth Service Configuration
# ============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8081

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=userauth
DB_SSLMODE=disable

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_TOKEN_DURATION=15  # minutes
JWT_REFRESH_TOKEN_DURATION=168  # hours (7 days)

# gRPC Configuration
GRPC_HOST=0.0.0.0
GRPC_PORT=50051

# ============================================================================
# Content Management Service Configuration
# ============================================================================
# Server Configuration
CMS_SERVER_HOST=0.0.0.0
CMS_SERVER_PORT=8082
CMS_GRPC_PORT=50052
CMS_METRICS_PORT=9092

# Database Configuration (PostgreSQL)
CMS_DATABASE_URL=postgresql://cms:cms_password@localhost:5433/cms
CMS_DB_MAX_CONNECTIONS=20
CMS_DB_MIN_CONNECTIONS=5

# S3/MinIO Configuration
CMS_S3_ENDPOINT=http://localhost:9000
CMS_S3_ACCESS_KEY=minioadmin
CMS_S3_SECRET_KEY=minioadmin
CMS_S3_BUCKET=content-storage
CMS_S3_REGION=us-east-1

# ElasticSearch Configuration
CMS_ELASTICSEARCH_URL=http://localhost:9200
CMS_ELASTICSEARCH_INDEX=content

# Redis Configuration
CMS_REDIS_URL=redis://localhost:6379
CMS_REDIS_QUEUE_NAME=transcoding_jobs

# Upload Configuration
CMS_MAX_FILE_SIZE_BYTES=524288000  # 500MB
CMS_CHUNK_SIZE_BYTES=5242880       # 5MB
CMS_SESSION_EXPIRY_HOURS=24

# Transcoding Configuration
CMS_TRANSCODING_WORKER_COUNT=2
CMS_TRANSCODING_MAX_RETRIES=3

# ============================================================================
# API Gateway Configuration
# ============================================================================
GATEWAY_SERVER_HOST=0.0.0.0
GATEWAY_SERVER_PORT=8080
GATEWAY_AUTH_SERVICE_ENDPOINT=http://localhost:50051
GATEWAY_OBSERVABILITY_TEMPO_ENDPOINT=http://localhost:4317

# Request body size limits (DoS prevention)
MAX_REQUEST_BODY_SIZE=1048576      # 1MB default limit
MAX_UPLOAD_BODY_SIZE=10485760      # 10MB for upload endpoints
UPLOAD_PATHS=/upload,/api/upload,/api/content/upload/chunk

# ============================================================================
# Observability Configuration
# ============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
SERVICE_NAME=slate-platform

# Logging
RUST_LOG=info,debug
