# ============================================================================
# User Auth Service - Environment Configuration Example
# ============================================================================
# Copy this file to .env and update with your actual values
# Never commit .env files with real credentials to version control

# ============================================================================
# Authentication Configuration
# ============================================================================
# Primary authentication method: normal, oauth, saml
AUTH_TYPE=normal

# Session duration (e.g., 1h, 24h, 7d)
SESSION_DURATION=24h

# ============================================================================
# Database Configuration
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=userauth
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_SSLMODE=disable
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5

# ============================================================================
# JWT Configuration
# ============================================================================
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your-256-bit-secret-key-here
JWT_ACCESS_TOKEN_DURATION=15m
JWT_REFRESH_TOKEN_DURATION=7d
JWT_ISSUER=user-auth-service

# ============================================================================
# Server Configuration
# ============================================================================
SERVER_PORT=8080
GRPC_PORT=50051
SERVER_READ_TIMEOUT=10s
SERVER_WRITE_TIMEOUT=10s
GRPC_MAX_CONCURRENT_STREAMS=100

# ============================================================================
# OAuth 2.0 Configuration - Google
# ============================================================================
# Uncomment and configure if using Google OAuth
# OAUTH_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
# OAUTH_GOOGLE_CLIENT_SECRET=your-client-secret
# OAUTH_GOOGLE_REDIRECT_URI=http://localhost:8080/auth/oauth/callback
# OAUTH_GOOGLE_SCOPES=openid,profile,email

# ============================================================================
# OAuth 2.0 Configuration - Microsoft
# ============================================================================
# Uncomment and configure if using Microsoft OAuth
# OAUTH_MICROSOFT_CLIENT_ID=12345678-1234-1234-1234-123456789abc
# OAUTH_MICROSOFT_CLIENT_SECRET=your-client-secret
# OAUTH_MICROSOFT_REDIRECT_URI=http://localhost:8080/auth/oauth/callback
# OAUTH_MICROSOFT_SCOPES=openid,profile,email,User.Read
# OAUTH_MICROSOFT_TENANT=common

# ============================================================================
# OAuth 2.0 Configuration - Custom Provider
# ============================================================================
# Uncomment and configure if using a custom OAuth provider
# OAUTH_CUSTOM_CLIENT_ID=your-client-id
# OAUTH_CUSTOM_CLIENT_SECRET=your-client-secret
# OAUTH_CUSTOM_REDIRECT_URI=http://localhost:8080/auth/oauth/callback
# OAUTH_CUSTOM_AUTH_URL=https://provider.com/oauth/authorize
# OAUTH_CUSTOM_TOKEN_URL=https://provider.com/oauth/token
# OAUTH_CUSTOM_USERINFO_URL=https://provider.com/api/user
# OAUTH_CUSTOM_SCOPES=read:user,user:email
# OAUTH_CUSTOM_ATTR_EMAIL=email
# OAUTH_CUSTOM_ATTR_FIRSTNAME=given_name
# OAUTH_CUSTOM_ATTR_LASTNAME=family_name
# OAUTH_CUSTOM_ATTR_AVATAR=picture

# ============================================================================
# SAML 2.0 Configuration - Service Provider
# ============================================================================
# Uncomment and configure if using SAML
# SAML_SP_ENTITY_ID=https://auth.example.com/saml/metadata
# SAML_ACS_URL=https://auth.example.com/auth/saml/acs
# SAML_CERTIFICATE_PATH=/path/to/saml_cert.pem
# SAML_PRIVATE_KEY_PATH=/path/to/saml_key.pem

# ============================================================================
# SAML 2.0 Configuration - Okta
# ============================================================================
# Uncomment and configure if using Okta SAML
# SAML_OKTA_METADATA_URL=https://your-domain.okta.com/app/xxx/sso/saml/metadata
# SAML_OKTA_JIT_PROVISIONING=true
# SAML_OKTA_GROUP_SYNC=true
# SAML_OKTA_GROUP_ATTRIBUTE=groups

# ============================================================================
# SAML 2.0 Configuration - Auth0
# ============================================================================
# Uncomment and configure if using Auth0 SAML
# SAML_AUTH0_METADATA_URL=https://your-domain.auth0.com/samlp/metadata/xxx
# SAML_AUTH0_JIT_PROVISIONING=true
# SAML_AUTH0_GROUP_SYNC=false

# ============================================================================
# SAML 2.0 Configuration - ADFS
# ============================================================================
# Uncomment and configure if using ADFS SAML
# SAML_ADFS_ENTITY_ID=http://adfs.example.com/adfs/services/trust
# SAML_ADFS_SSO_URL=https://adfs.example.com/adfs/ls/
# SAML_ADFS_CERTIFICATE_PATH=/path/to/adfs-cert.pem
# SAML_ADFS_JIT_PROVISIONING=true
# SAML_ADFS_GROUP_SYNC=true
# SAML_ADFS_GROUP_ATTRIBUTE=http://schemas.microsoft.com/ws/2008/06/identity/claims/groups

# ============================================================================
# SAML 2.0 Configuration - Shibboleth
# ============================================================================
# Uncomment and configure if using Shibboleth SAML
# SAML_SHIBBOLETH_METADATA_URL=https://idp.university.edu/idp/shibboleth
# SAML_SHIBBOLETH_JIT_PROVISIONING=true
# SAML_SHIBBOLETH_GROUP_SYNC=true
# SAML_SHIBBOLETH_GROUP_ATTRIBUTE=urn:oid:1.3.6.1.4.1.5923.1.5.1.1
# SAML_SHIBBOLETH_ATTR_EMAIL=urn:oid:0.9.2342.19200300.100.1.3
# SAML_SHIBBOLETH_ATTR_FIRSTNAME=urn:oid:2.5.4.42
# SAML_SHIBBOLETH_ATTR_LASTNAME=urn:oid:2.5.4.4

# ============================================================================
# Observability Configuration
# ============================================================================
TRACING_ENABLED=false
TRACING_ENDPOINT=http://localhost:4317
SERVICE_NAME=user-auth-service
TRACING_SAMPLE_RATE=1.0

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================================================
# Redis Configuration (Optional)
# ============================================================================
# Uncomment if using Redis for caching/rate limiting
# REDIS_ENABLED=false
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
